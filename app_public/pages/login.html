<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script>
        $(function () {
            init();
        });
        const init=()=>{
            $.ajax({
                type:'POST',
                url:'http://localhost:3000/api/initdata',
                async:false,
                success:(result)=>{
                    $('#formerr').val(JSON.stringify(result));
                },
                error:(error,result,msg)=>{
                    $('#formerr').val(JSON.stringify(result));
                    console.log(JSON.stringify(error));
                }
            })
        }
        const onLoginSubmit=()=>{
            // document.getElementById('formerr').innerHTML='Hellow world!';
            // alert('Hello world!');
            const model = new Object();
            model.name=$('#name').val();
            model.email=$('#email').val();
            model.password=$('#password').val();
            const str =JSON.stringify(model);
            $('#formerr').html(str).show();

        }
        const clearErr=()=>{
           $('#formerr').html('').hide();
        }
    </script>
    <style>
        .fMargin {
            margin-top: 10px;
        }
        .input-group-prepend{
            width: 100px;
        }
    </style>
    <title></title>
</head>

<body>
    <nav class="navbar  fixed-top navbar-expand-md navbar-light">
        <div class="container-fluid">
            <a href="#" routerLink="additem" class="navbar-brand ank">電腦排隊程式</a>
            <button class="navbar-toggler" type="button" style="border: none;text-align: center;padding-left: 0px;"
                data-bs-toggle="collapse" data-bs-target="#navbarMain" aria-controls="navbarNavAltMarkup"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon" style="color:honeydew;border: none;">Menu</span>
            </button>
            <div id="navbarMain" class="navbar-collapse collapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"
                            style="color: goldenrod">帳務夾</a>
                        <ul class="dropdown-menu">
                            <li><a href="#" routerLink="additem" class="dropdown-item">記帳</a></li>
                            <li><a href="#" routerLink="monthlist" class="dropdown-item">月帳清單</a></li>
                            <li><a href="#" routerLink="income" class="dropdown-item">收入</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="navbar-nav  ms-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="navbarDropdownpay" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false" style="color: goldenrod">用戶夾</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownpay">
                            <a href="#" routerLink="login" class="dropdown-item">登入</a>
                            <a href="#" routerLink="register" class="dropdown-item">註冊</a>
                            <a href="#" routerLink="forgetpws" class="dropdown-item">忘記密碼</a>
                            <a href="#" routerLink="setuser" class="dropdown-item">用戶管理</a>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false" style="color: goldenrod">登入中</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <li><a href="#" class="dropdown-item">登出</a></li>
                            <li><a href="#" routerLink="changepws" class="dropdown-item">修改密碼</a></li>
                            <li><a href="#" routerLink="payrecord" class="dropdown-item">儲值登記</a></li>
                            <li><a href="#" routerLink="createmember" class="dropdown-item">管理成員</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <h2 style="margin: 50px 0px 20px 50px;">
           請先登入再使用本系統!!
        </h2>
        <form>
            <div role="alert" class="alert alert-danger" id="formerr" name="formerr" style="display: none;"></div>
            <div class="input-group fMargin">
                <div class="input-group-prepend">
                    <span class="input-group-text">姓名：</span>
                </div>
                <input  onfocus="clearErr()" class="form-control" id="name" name="name" placeholder="輸入帳號"/>
            </div>
            <div class="input-group fMargin">
                <div class="input-group-prepend">
                    <span class="input-group-text">Email：</span>
                </div>
                <input type="email" class="form-control" id="email" name="email" placeholder="輸入 email " autocomplete="off">
            </div>
            <div class="input-group fMargin">
                <div class="input-group-prepend">
                    <span class="input-group-text">密 碼：</span>
                </div>
                <input type="password" class="form-control" id="password" name="password" placeholder="輸入密碼" autocomplete="off">
            </div>
            <div class="col-12 fMargin">
                <button type="button" role="button" class="btn btn-primary"  onclick="onLoginSubmit();return false;">登入</button>
                <input type="checkbox" name="keepLocal" style="margin-left: 100px;">
                <label for="keepLocal">保留帳號，下次不用輸入</label>
            </div>


        </form>
    </div>
</body>

</html>